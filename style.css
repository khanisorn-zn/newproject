/* กำหนดฟอนต์ Inter สำหรับทั้ง body */
body {
    font-family: "Inter", sans-serif;
    /* เปลี่ยนพื้นหลังเป็นสีที่นวลตาและทันสมัยขึ้น */
    background: linear-gradient(to right, #e0f7fa 0%, #e8f5e9 100%); /* โทนสีฟ้าอ่อน-เขียวอ่อน สบายตา */
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh; /* ใช้ min-height เพื่อให้เต็มหน้าจอเสมอ */
    margin: 0;
    text-align: center; /* จัดกึ่งกลางข้อความและ inline-block children */
    color: #333; /* สีข้อความหลัก */
    padding: 0; /* ลบ padding ออกจาก body */
    box-sizing: border-box;
    overflow-x: hidden; /* ซ่อน scrollbar แนวนอนเมื่อ sidebar เปิด */
}

/* สไตล์สำหรับ Sidebar */
.sidebar {
    height: 100%; /* เต็มความสูงหน้าจอ */
    width: 0; /* ซ่อนไว้ตอนแรก */
    position: fixed; /* อยู่กับที่ */
    z-index: 1000; /* อยู่ด้านบนสุด */
    top: 0;
    left: 0;
    background-color: #4a4a4a; /* สีพื้นหลัง Sidebar ที่ยังคงความเข้มเล็กน้อย */
    overflow-x: hidden; /* ซ่อนเนื้อหาที่ล้น */
    transition: 0.5s; /* เพิ่ม animation การเปิด/ปิด */
    padding-top: 60px; /* เว้นที่ด้านบนสำหรับปุ่มปิด */
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3); /* เงาด้านข้าง */
    display: flex;
    flex-direction: column;
    align-items: flex-start; /* จัดเรียงข้อความชิดซ้าย */
    justify-content: space-between; /* จัดเนื้อหาให้กระจายเต็มความสูง */
}

.sidebar a {
    padding: 15px 25px;
    text-decoration: none;
    font-size: 1.2em;
    color: #f1f1f1; /* สีข้อความใน Sidebar */
    display: block;
    transition: 0.3s;
    width: 100%; /* ให้ลิงก์เต็มความกว้าง */
    text-align: left;
    box-sizing: border-box;
}

.sidebar a:hover {
    color: #fff;
    background-color: #616161; /* สีเข้มขึ้นเมื่อ hover */
}

.sidebar .closebtn {
    position: absolute;
    top: 0;
    right: 25px;
    font-size: 36px;
    margin-left: 50px;
    color: #f1f1f1;
}

.sidebar .closebtn:hover {
    color: #fff;
    background-color: transparent; /* ไม่เปลี่ยนสีพื้นหลังเมื่อ hover ที่ปุ่มปิด */
}

.sidebar-header {
    padding: 15px 25px;
    color: #fff;
    text-align: center;
    width: 100%;
    box-sizing: border-box;
    border-bottom: 1px solid #616161;
    margin-bottom: 20px;
}

.sidebar-header i {
    font-size: 3em;
    margin-bottom: 10px;
    color: #8fd3f4; /* สีไอคอนให้เข้ากับโทนใหม่ */
}

.sidebar-header h3 {
    margin: 0;
    font-size: 1.5em;
}

/* New: Text size controls container in sidebar */
.sidebar-text-size-controls {
    width: 100%;
    padding: 15px 25px;
    box-sizing: border-box;
    display: flex;
    justify-content: flex-end; /* จัดปุ่มไปทางขวา */
    align-items: center;
    gap: 10px;
    margin-top: auto; /* Push to the bottom */
    border-top: 1px solid #616161;
    padding-bottom: 20px; /* เพิ่ม padding ด้านล่าง */
}

.sidebar-text-size-controls .text-size-label {
    color: #f1f1f1;
    font-size: 0.9em;
    margin-right: auto; /* Push label to the left */
}

.sidebar-text-size-controls .text-size-btn {
    background-color: #555;
    color: white;
    border: none;
    padding: 8px 12px;
    font-size: 1em;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    width: auto; /* Override general button width */
    margin: 0; /* Override general button margin */
}

.sidebar-text-size-controls .text-size-btn:hover {
    background-color: #777;
}


/* สไตล์สำหรับเนื้อหาหลัก */
#main {
    transition: margin-left .5s; /* เพิ่ม animation การเลื่อนเนื้อหา */
    padding: 20px;
    width: 100%;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column; /* จัดเรียงเนื้อหาหลักให้อยู่ตรงกลาง */
    min-height: 100vh;
}

/* ปุ่ม Hamburger icon */
.openbtn {
    font-size: 30px;
    cursor: pointer;
    background-color: #4a4a4a; /* สีเดียวกับ sidebar */
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 8px;
    position: fixed; /* อยู่กับที่ */
    top: 20px;
    left: 20px;
    z-index: 1001; /* อยู่ด้านบน Sidebar */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: background-color 0.3s ease;
}

.openbtn:hover {
    background-color: #616161;
}

/* สไตล์สำหรับ container เดิม */
.container {
    background-color: #ffffff; /* พื้นหลังสีขาวสำหรับ container */
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); /* เงาอ่อนลง */
    max-width: 700px;
    width: 100%;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-top: 0; /* ลบ margin-top เดิม */
    position: relative; /* เพิ่มเพื่อให้ questionCounter สามารถใช้ position absolute ได้ */
}

/* Home screen specific adjustments for centering */
#homeScreen {
    display: flex; /* ใช้ flexbox สำหรับ homeScreen */
    flex-direction: column;
    align-items: center; /* จัดให้อยู่ตรงกลางแนวนอน */
    justify-content: center; /* จัดให้อยู่ตรงกลางแนวตั้ง */
    width: 100%; /* ให้ homeScreen เต็มความกว้างของ main */
}

/* Adjust quizScreen container width */
#quizScreen.container {
    max-width: 550px; /* ปรับลดขนาดกล่องคำถามให้เล็กลงอีก */
    padding: 25px; /* ลด padding เพื่อให้เนื้อหามีพื้นที่มากขึ้น */
}


h1 {
    color: #333; /* สีข้อความเข้ม */
    font-weight: 700;
    margin-bottom: 20px;
    font-size: 3em; /* เพิ่มขนาดฟอนต์ h1 ให้ใหญ่ขึ้นมาก */
    color: #2575fc; /* สีน้ำเงินสดใสขึ้น */
}

h2 {
    color: #444; /* สีเทาเข้ม */
    font-weight: 700;
    margin-bottom: 20px;
    font-size: 2.5em; /* เพิ่มขนาดฟอนต์ h2 ให้ใหญ่ขึ้นมาก */
}

p {
    color: #666; /* สีเทาปานกลาง */
    font-size: 1.8em; /* เพิ่มขนาดฟอนต์ p ให้ใหญ่ขึ้นมาก */
    line-height: 1.6;
    margin-bottom: 25px;
}

/* General button styles - will be overridden by specific classes */
button {
    background-color: #28a745; /* สีเขียวสดใส */
    color: white;
    border: none;
    padding: 15px 35px;
    font-size: 1.2em;
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    margin-top: 20px;
    transition: background-color 0.3s ease, transform 0.2s ease;
    box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
}

button:hover {
    background-color: #218838;
    transform: translateY(-2px);
}

button:active {
    transform: translateY(0);
}

/* New: Styles for the quiz selection buttons container */
#quizSelectionButtons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* 2 คอลัมน์ Responsive */
    gap: 15px; /* ระยะห่างระหว่างปุ่ม */
    width: 100%; /* ให้คอนเทนเนอร์ปุ่มเต็มความกว้างของ .container */
    max-width: 600px; /* จำกัดความกว้างสูงสุดของปุ่ม */
    margin: 0 auto; /* จัดให้อยู่ตรงกลางในแนวนอน */
    justify-items: center; /* จัดกึ่งกลางรายการใน grid */
}

/* Option buttons specific styling */
.option-button {
    background-color: #f0f0f0; /* พื้นหลังตัวเลือกสีขาวนวล */
    color: #333;
    border: 1px solid #ddd;
    padding: 15px;
    font-size: 1em; /* ลดขนาดฟอนต์ตัวเลือกเล็กน้อย */
    cursor: pointer;
    border-radius: 8px;
    width: 100%;
    margin-bottom: 10px;
    text-align: left;
    transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.option-button:hover:not(:disabled) { /* Add :not(:disabled) */
    background-color: #e9e9e9;
    border-color: #c0c0c0;
    transform: translateY(-1px);
}

.option-button:disabled { /* Style for disabled option buttons */
    opacity: 0.7;
    cursor: not-allowed;
    box-shadow: none;
}


.option-button.correct {
    background-color: #d4edda; /* เขียวอ่อนสำหรับถูก */
    border-color: #28a745;
    color: #155724;
    font-weight: bold;
}

.option-button.wrong {
    background-color: #f8d7da; /* แดงอ่อนสำหรับผิด */
    border-color: #dc3545;
    color: #721c24;
    font-weight: bold;
}

/* สไตล์สำหรับส่วนแสดงผลเฉลยและเหตุผล */
#feedbackContainer {
    margin-top: 25px;
    padding: 20px;
    border-radius: 10px;
    background-color: #e0f7fa; /* ฟ้าอ่อนสำหรับ feedback */
    border: 1px solid #b2ebf2;
    text-align: left;
    width: 100%;
    box-sizing: border-box;
    display: none;
}

#feedbackText {
    font-weight: bold;
    font-size: 1.2em; /* เพิ่มขนาดฟอนต์ feedback */
    margin-bottom: 8px;
}

#feedbackText.correct-feedback {
    color: #28a745;
}

#feedbackText.wrong-feedback {
    color: #dc3545;
}

#explanationText {
    font-size: 1.1em; /* เพิ่มขนาดฟอนต์ explanation */
    color: #555;
    line-height: 1.6;
}


#resultScreen {
    text-align: center;
}

#resultScreen h2 {
    color: #2575fc; /* สีน้ำเงินสดใสขึ้น */
    font-size: 2.5em; /* เพิ่มขนาดฟอนต์ h2 ในหน้าผลลัพธ์ */
    margin-bottom: 20px;
}

#scoreDisplay {
    font-size: 2.2em; /* เพิ่มขนาดฟอนต์ score */
    font-weight: bold;
    color: #28a745;
    margin-bottom: 30px;
}

#restartButton {
    background-color: #2575fc; /* สีน้ำเงินสดใสขึ้น */
    box-shadow: 0 5px 15px rgba(37, 117, 252, 0.4);
}

#restartButton:hover {
    background-color: #0056b3;
}

/* Theme toggle button specific style */
.theme-toggle-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1001; /* Same as openbtn */
    background-color: #4a4a4a; /* Consistent with sidebar/openbtn */
    color: white;
    padding: 10px 15px;
    border: none; /* Remove default button border */
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: background-color 0.3s ease, transform 0.2s ease;
    width: auto; /* Override 100% width from general button style */
    margin-top: 0; /* Override margin-top from general button style */
    font-size: 1.2em; /* Adjust icon size */
}

.theme-toggle-btn:hover {
    background-color: #616161;
    transform: translateY(-2px);
}

.theme-toggle-btn:active {
    transform: translateY(0);
}

/* Dark theme styles */
body.dark-theme {
    background: linear-gradient(to right, #2c3e50 0%, #34495e 100%); /* Darker gradient */
    color: #f0f0f0;
}

body.dark-theme .container {
    background-color: #34495e; /* Darker container */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
}

body.dark-theme h1, body.dark-theme h2 {
    color: #f5f5f5;
}

body.dark-theme p {
    color: #cccccc;
}

body.dark-theme button { /* General buttons in dark theme */
    background-color: #555;
    color: #f0f0f0;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

body.dark-theme button:hover {
    background-color: #666;
}

body.dark-theme .option-button { /* Option buttons in dark theme */
    background-color: #444;
    color: #f0f0f0;
    border-color: #666;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

body.dark-theme .option-button:hover:not(:disabled) {
    background-color: #555;
    border-color: #888;
}

body.dark-theme .option-button.correct {
    background-color: #28a745; /* Green remains */
    border-color: #28a745;
    color: white;
}

body.dark-theme .option-button.wrong {
    background-color: #dc3545; /* Red remains */
    border-color: #dc3545;
    color: white;
}

body.dark-theme #feedbackContainer {
    background-color: #3a3a3a;
    border-color: #666;
}

body.dark-theme #feedbackText {
    color: #f0f0f0;
}

body.dark-theme #explanationText {
    color: #cccccc;
}

body.dark-theme #scoreDisplay {
    color: #28a745; /* Green remains */
}

body.dark-theme #restartButton {
    background-color: #2575fc; /* Blue remains */
    box-shadow: 0 5px 15px rgba(37, 117, 252, 0.4);
}

body.dark-theme .sidebar {
    background-color: #222; /* Even darker sidebar */
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.6);
}

body.dark-theme .sidebar a {
    color: #bbb;
}

body.dark-theme .sidebar a:hover {
    background-color: #444;
}

body.dark-theme .sidebar-header {
    border-bottom-color: #444;
}

body.dark-theme .sidebar-header i {
    color: #8fd3f4; /* Keep light blue icon */
}

body.dark-theme .sidebar-header h3 {
    color: #e0e0e0;
}

body.dark-theme .openbtn {
    background-color: #222;
    color: white;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

body.dark-theme .openbtn:hover {
    background-color: #444;
}

body.dark-theme .theme-toggle-btn {
    background-color: #222;
    color: white;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

body.dark-theme .theme-toggle-btn:hover {
    background-color: #444;
}

/* New: Question Counter Fixed Style */
.question-counter-fixed {
    position: fixed;
    top: 65px; /* Adjust position below theme toggle button */
    right: 20px;
    font-size: 1em;
    color: #4a4a4a; /* Darker text for contrast */
    background-color: #fff; /* White background */
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 1001; /* Ensure it's above other content */
    display: none; /* Hidden by default, shown when quiz starts */
    font-weight: bold;
    min-width: 100px; /* Ensure enough width for text */
    text-align: center;
}

/* Dark theme for fixed question counter */
body.dark-theme .question-counter-fixed {
    background-color: #34495e; /* Darker background */
    color: #f0f0f0; /* Lighter text */
    box-shadow: 0 4px 8px rgba(0,0,0,0.4);
}

/* New: Fixed score display style */
.fixed-score-display {
    position: fixed;
    bottom: 60px; /* Position above the reset button */
    right: 20px;
    font-size: 1em;
    color: #4a4a4a; /* Darker text for contrast */
    background-color: #fff; /* White background */
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 1000; /* Ensure it's above other content but below question counter */
    display: none; /* Hidden by default */
    font-weight: bold;
    min-width: 100px; /* Ensure enough width for text */
    text-align: center;
}

/* Dark theme for fixed score display */
body.dark-theme .fixed-score-display {
    background-color: #34495e; /* Darker background */
    color: #f0f0f0; /* Lighter text */
    box-shadow: 0 4px 8px rgba(0,0,0,0.4);
}


/* ปุ่มรีเซ็ตข้อสอบที่ย้ายมาอยู่มุมขวาล่าง */
.reset-quiz-fixed-btn {
    position: fixed;
    bottom: 20px; /* ระยะห่างจากด้านล่าง */
    right: 20px; /* ระยะห่างจากด้านขวา */
    z-index: 1000; /* ให้ปุ่มอยู่ด้านบนสุด */
    padding: 12px 25px; /* ขนาด padding */
    font-size: 1.2em; /* ขนาดตัวอักษร */
    border-radius: 8px; /* ความโค้งมนของมุม */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* เงา */
    display: none; /* ซ่อนไว้ตอนแรก */
}

/* Dark theme for fixed reset button */
body.dark-theme .reset-quiz-fixed-btn {
    background-color: #dc3545; /* สีแดงสำหรับ Dark theme */
    color: white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}


/* New styles for navigation and action buttons */
.navigation-buttons, .action-buttons {
    display: flex;
    justify-content: center;
    gap: 15px; /* Space between buttons */
    margin-top: 25px;
    width: 100%;
    flex-direction: column; /* Stack buttons vertically */
    align-items: center; /* Center items horizontally when flex-direction is column */
}

.btn {
    padding: 12px 25px;
    font-size: 1.2em; /* เพิ่มขนาดฟอนต์ปุ่ม */
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    flex-grow: 1; /* Allow buttons to grow */
    max-width: 200px; /* เพิ่ม max-width ให้ปุ่มใหญ่ขึ้นเล็กน้อย */
}

.btn-primary {
    background-color: #2575fc; /* Blue */
    color: white;
}
.btn-primary:hover:not(:disabled) {
    background-color: #0056b3;
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.btn-secondary {
    background-color: #6c757d; /* Gray */
    color: white;
}
.btn-secondary:hover:not(:disabled) {
    background-color: #5a6268;
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.btn-danger {
    background-color: #dc3545; /* Red */
    color: white;
}
.btn-danger:hover:not(:disabled) {
    background-color: #c82333;
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    box-shadow: none;
}

/* Message Box */
#messageBox {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    font-weight: bold;
    display: none; /* Hidden by default */
    width: 100%;
    box-sizing: border-box;
    text-align: center;
}
.message-success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}
.message-error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

/* Adjust question text size and width */
#questionText {
    font-size: 1.5em; /* ลดขนาดฟอนต์ของคำถามให้เล็กลงอีก */
    font-weight: bold;
    margin-bottom: 18px; /* เพิ่มระยะห่างด้านล่างเล็กน้อย */
    max-width: 90%; /* จำกัดความกว้างของข้อความคำถามให้พอดีกับกล่อง */
    margin-left: auto; /* จัดกึ่งกลางข้อความคำถาม */
    margin-right: auto; /* จัดกึ่งกลางข้อความคำถาม */
}


/* Responsive adjustments */
@media (max-width: 768px) {
    .sidebar {
        padding-top: 15px;
    }
    .sidebar a {
        font-size: 1em;
        padding: 10px 15px;
    }
    .sidebar .closebtn {
        font-size: 30px;
        right: 15px;
    }
    .openbtn {
        font-size: 24px;
        padding: 8px 12px;
        top: 10px;
        left: 10px;
    }
    .theme-toggle-btn { /* Adjust position for smaller screens */
        font-size: 1em;
        padding: 8px 12px;
        top: 10px;
        right: 10px;
    }
    .question-counter-fixed { /* Adjust position for smaller screens */
        top: 55px; /* Adjust position below theme toggle button */
        right: 10px;
        font-size: 0.9em;
        padding: 5px 10px;
        min-width: 80px;
    }
    .fixed-score-display { /* Adjust position for smaller screens */
        bottom: 55px; /* Position above the reset button */
        right: 10px;
        font-size: 0.9em;
        padding: 5px 10px;
        min-width: 80px;
    }
    #main {
        padding: 10px;
    }
    .container {
        padding: 25px;
        margin: 10px;
    }
    /* Adjust quizScreen container width for smaller screens */
    #quizScreen.container {
        max-width: 90%; /* ให้เต็มความกว้างมากขึ้นบนมือถือ */
        padding: 18px;
    }
    h1 {
        font-size: 2.5em; /* ปรับขนาด h1 สำหรับมือถือ */
    }
    h2 {
        font-size: 2em; /* ปรับขนาดฟอนต์ h2 สำหรับมือถือ */
    }
    p {
        font-size: 1.5em; /* ปรับขนาดฟอนต์ p สำหรับมือถือ */
    }
    button, .option-button {
        font-size: 1.1em; /* ปรับขนาดฟอนต์ปุ่มสำหรับมือถือ */
        padding: 12px 25px;
    }
    .btn {
        padding: 10px 15px;
        font-size: 1.1em; /* ปรับขนาดฟอนต์ปุ่มนำทางสำหรับมือถือ */
        max-width: none; /* Allow full width on small screens */
    }
    .navigation-buttons, .action-buttons {
        flex-direction: column; /* Stack buttons vertically on small screens */
        gap: 10px;
    }
    #questionText {
        font-size: 1.4em; /* ลดขนาดฟอนต์คำถามสำหรับมือถือ */
        max-width: 90%; /* ปรับความกว้างของข้อความคำถามบนมือถือ */
    }
    #quizSelectionButtons {
        grid-template-columns: 1fr; /* ให้เป็น 1 คอลัมน์บนมือถือเพื่อความอ่านง่าย */
        max-width: 350px; /* จำกัดความกว้างเพื่อให้ปุ่มไม่กว้างเกินไป */
    }
    /* Responsive for fixed reset button */
    .reset-quiz-fixed-btn {
        bottom: 10px;
        right: 10px;
        padding: 10px 20px;
        font-size: 1em;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 15px;
    }
    /* Adjust quizScreen container width for very small screens */
    #quizScreen.container {
        max-width: 95%; /* ให้เต็มความกว้างบนมือถือขนาดเล็กมาก */
        padding: 12px;
    }
    h1 {
        font-size: 2.2em;
    }
    h2 {
        font-size: 1.8em; /* ปรับขนาดฟอนต์ h2 สำหรับมือถือขนาดเล็ก */
    }
    p {
        font-size: 1.4em; /* ปรับขนาดฟอนต์ p สำหรับมือถือขนาดเล็ก */
    }
    button, .option-button {
        font-size: 1em;
        padding: 10px 20px;
    }
    #questionText {
        font-size: 1.3em; /* ลดขนาดฟอนต์คำถามสำหรับมือถือขนาดเล็กอีก */
        max-width: 95%; /* ปรับความกว้างของข้อความคำถามบนมือถือขนาดเล็ก */
    }
}
